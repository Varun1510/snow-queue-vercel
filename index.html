<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Final Code Confirmation — ServiceNow</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: #eef1f4;
  color: #1f2937;
}

/* Top Navbar */
.navbar {
  background: #1f2933;
  color: white;
  height: 56px;
  display: flex;
  align-items: center;
  padding: 0 28px;
  font-weight: 600;
  font-size: 16px;
}

.navbar span {
  color: #7dd3a7;
  margin-left: 6px;
}

/* Breadcrumb */
.breadcrumb {
  padding: 12px 28px;
  font-size: 13px;
  color: #6b7280;
  background: white;
  border-bottom: 1px solid #e5e7eb;
}

/* Main Layout */
.container {
  max-width: 860px;
  margin: 40px auto;
  padding: 0 20px;
}

/* Panel */
.panel {
  background: white;
  border-radius: 10px;
  box-shadow: 0 10px 26px rgba(0,0,0,0.08);
  border-top: 6px solid #22c55e;
  overflow: hidden;
}

/* Panel Header */
.panel-header {
  padding: 20px 24px;
  font-size: 18px;
  font-weight: 700;
  border-bottom: 1px solid #e5e7eb;
  background: #f9fafb;
}

/* Panel Body */
.panel-body {
  padding: 30px 26px;
}

/* Queue Number */
.queue {
  font-size: 80px;
  font-weight: 800;
  color: #16a34a;
}

/* Field */
.field {
  margin-top: 14px;
}

.label {
  font-size: 13px;
  color: #6b7280;
}

.value {
  font-size: 16px;
  font-weight: 600;
  margin-top: 2px;
}

/* Footer */
.footer {
  padding: 14px 26px;
  font-size: 12px;
  background: #f9fafb;
  border-top: 1px solid #e5e7eb;
  color: #9ca3af;
}
</style>
</head>

<body>

<div class="navbar">
  ServiceNow<span>Portal</span>
</div>

<div class="breadcrumb">
  Home → Requests → Final Code Confirmation
</div>

<div class="container">
  <div class="panel">

    <div class="panel-header">
      Final Code Confirmation
    </div>

    <div class="panel-body">

      <div class="queue" id="queue">--</div>

      <div class="field">
        <div class="label">Name</div>
        <div class="value">Varun Vaikunth Prabhu</div>
      </div>

      <div class="field">
        <div class="label">Email</div>
        <div class="value">Varun.Prabhu@du.ae</div>
      </div>

    </div>

    <div class="footer">
      Queue auto-updates every 5 minutes
    </div>

  </div>
</div>

<script>
const START_QUEUE = 17;
const DROP_INTERVAL_MS = 2 * 60 * 60 * 1000; // 2 hours
//const DROP_INTERVAL_MS = 2 * 60 * 60 * 1000;
  
// Initialize start time once
if (!localStorage.getItem("queueStartTime")) {
  localStorage.setItem("queueStartTime", Date.now());
}

const startTime = parseInt(localStorage.getItem("queueStartTime"));

function updateQueue() {
  const now = Date.now();
  const elapsed = now - startTime;

  const drops = Math.floor(elapsed / DROP_INTERVAL_MS);
  let queue = START_QUEUE - drops;

  if (queue < 0) queue = 0;

  document.getElementById("queue").innerText = queue;
}

// Update silently every minute
updateQueue();
setInterval(updateQueue, 60000);
</script>

<!-- OTP Modal -->
<div id="otpModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:9999; justify-content:center; align-items:center;">

  <div style="background:white; width:420px; border-radius:10px; box-shadow:0 20px 40px rgba(0,0,0,0.15); overflow:hidden;">

    <div style="padding:16px 22px; background:#1f2933; color:white; font-weight:600;">
      Verification Required
    </div>

    <div style="padding:22px; font-size:14px; color:#374151;">
      OTP has been sent to  
      <b>Varun.Prabhu@du.ae</b>
    </div>

    <div style="padding:0 22px 18px;">
      <input id="otpInput" type="text" placeholder="Enter OTP"
        style="width:100%; padding:12px; border:1px solid #d1d5db; border-radius:6px; font-size:15px;">
    </div>

    <div style="padding:14px 22px; background:#f9fafb; text-align:right;">
      <button onclick="verifyOTP()" style="padding:8px 18px; background:#22c55e; border:none; color:white; border-radius:6px; font-weight:600; cursor:pointer;">
        Verify
      </button>
    </div>

  </div>
</div>

<script>
const EMAIL = "Varun.Prabhu@du.ae";
const FAKE_OTP = "478128"; // Demo OTP

// Show popup only first time
if (!localStorage.getItem("otpVerified")) {
  document.getElementById("otpModal").style.display = "flex";
}

function verifyOTP() {
  const entered = document.getElementById("otpInput").value.trim();

  if (entered === FAKE_OTP) {
    localStorage.setItem("otpVerified", "true");
    document.getElementById("otpModal").style.display = "none";
  } else {
    alert("Invalid OTP. Try again.");
  }
}
</script>

  
</body>  
</html>
